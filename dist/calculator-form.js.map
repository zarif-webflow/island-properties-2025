{
  "version": 3,
  "sources": ["../src/calculator-form.ts"],
  "sourcesContent": ["import { getGsap, getHtmlElement, getMultipleHtmlElements } from \"@taj-wf/utils\";\r\n\r\nconst makeAllInputElementsUnfocusable = (parent: HTMLElement) => {\r\n  const allInputElements = getMultipleHtmlElements({ selector: \"input, select, textarea\", parent });\r\n  if (!allInputElements) return;\r\n  for (const inputElement of allInputElements) {\r\n    inputElement.setAttribute(\"tabindex\", \"-1\");\r\n  }\r\n};\r\n\r\nconst makeAllInputElementsFocusable = (parent: HTMLElement) => {\r\n  const allInputElements = getMultipleHtmlElements({ selector: \"input, select, textarea\", parent });\r\n  if (!allInputElements) return;\r\n  for (const inputElement of allInputElements) {\r\n    inputElement.removeAttribute(\"tabindex\");\r\n  }\r\n};\r\n\r\nconst initMultiStepForm = () => {\r\n  const [gsap] = getGsap();\r\n\r\n  if (!gsap) return;\r\n\r\n  const forms = getMultipleHtmlElements({ selector: \"form[data-calculator-form]\" });\r\n\r\n  if (!forms) return;\r\n\r\n  for (const form of forms) {\r\n    const step1Element = getHtmlElement({\r\n      selector: '[data-form-step=\"1\"]',\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n    const step2Element = getHtmlElement({\r\n      selector: '[data-form-step=\"2\"]',\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n    const nextButton = getHtmlElement({\r\n      selector: \"[data-next-button]\",\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n    const prevButton = getHtmlElement({\r\n      selector: \"[data-prev-button]\",\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n\r\n    if (!step1Element || !step2Element || !nextButton || !prevButton) continue;\r\n\r\n    nextButton.setAttribute(\"type\", \"button\");\r\n    prevButton.setAttribute(\"type\", \"button\");\r\n\r\n    const addressInputElement = getHtmlElement<HTMLInputElement>({\r\n      selector: \"input[data-address-input]\",\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n    const bedroomsSelectElement = getHtmlElement<HTMLSelectElement>({\r\n      selector: 'select[name=\"bedrooms\"]',\r\n      parent: form,\r\n      log: \"error\",\r\n    });\r\n\r\n    if (!addressInputElement || !bedroomsSelectElement) continue;\r\n\r\n    const animateNext = async () => {\r\n      gsap.set(step1Element, { opacity: 1, xPercent: 0 });\r\n      gsap.set(step2Element, { opacity: 0, xPercent: 102 });\r\n      gsap.to(step1Element, {\r\n        opacity: 0,\r\n        xPercent: -102,\r\n        duration: 0.4,\r\n        ease: \"power1.out\",\r\n        onComplete: () => {\r\n          step1Element.classList.add(\"is--hidden\");\r\n          step2Element.classList.remove(\"is--hidden\");\r\n          gsap.to(step2Element, { opacity: 1, xPercent: 0, duration: 0.4, ease: \"power1.out\" });\r\n        },\r\n      });\r\n    };\r\n\r\n    const animatePrev = async () => {\r\n      gsap.set(step2Element, { opacity: 1, xPercent: 0 });\r\n      gsap.set(step1Element, { opacity: 0, xPercent: -102 });\r\n      gsap.to(step2Element, {\r\n        opacity: 0,\r\n        xPercent: 102,\r\n        duration: 0.3,\r\n        ease: \"power1.out\",\r\n        onComplete: () => {\r\n          step2Element.classList.add(\"is--hidden\");\r\n          step1Element.classList.remove(\"is--hidden\");\r\n          gsap.to(step1Element, { opacity: 1, xPercent: 0, duration: 0.3, ease: \"power1.out\" });\r\n        },\r\n      });\r\n    };\r\n\r\n    nextButton.addEventListener(\"click\", () => {\r\n      for (const inputEl of [addressInputElement, bedroomsSelectElement]) {\r\n        if (inputEl.checkValidity()) continue;\r\n        inputEl.reportValidity();\r\n        return;\r\n      }\r\n      animateNext();\r\n    });\r\n\r\n    prevButton.addEventListener(\"click\", () => {\r\n      animatePrev();\r\n    });\r\n\r\n    makeAllInputElementsFocusable(step1Element);\r\n    makeAllInputElementsUnfocusable(step2Element);\r\n  }\r\n};\r\n\r\ninitMultiStepForm();\r\n"],
  "mappings": "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",
  "names": []
}
